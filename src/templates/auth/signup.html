{% extends "base.html" %}

<!---->

{% block title %} Kirjaudu sisään {% endblock %}

<!---->

{% block content %}

<!---->

<div class="error__container">
    {% for i, error in errors %}
    <div class="error" style="--index: {{i}}; --error-count: {{error_count}}">
        <p class="error__description">{{error}}</p>
        <input
            type="checkbox"
            class="error__checkbox"
            name="hide"
            id="hide-{{i}}"
            checked
        />
        <label class="error__close" for="hide-{{i}}">
            <i class="fa-solid fa-xmark"></i>
        </label>
    </div>
    {% endfor %}
</div>

<div class="card__container">
    <section class="card auth__content">
        <h1 class="card__heading">Mukava tavata!</h1>
        <p class="card__subtext">Rekisteröidy Muistiinpanojaon käyttäjäksi</p>

        <form
            class="auth__form"
            action="{{url_for('signup_action')}}"
            method="post"
        >
            <div class="input__container">
                <label class="input__label" for="username">
                    Käyttäjätunnus
                </label>
                <input
                    class="input__text"
                    type="text"
                    name="username"
                    id="username"
                />
            </div>

            <div class="input__container">
                <label class="input__label" for="password">
                    Salasana
                </label>
                <input
                    class="input__text"
                    type="password"
                    name="password"
                    id="password"
                />
            </div>

            <input
                type="text"
                name="csrf_token"
                id="csrf_token"
                value="{{session.csrf_token}}"
                hidden
            />

            <input
                type="text"
                name="next"
                id="next"
                value="{{request.args.get('next', '')}}"
                hidden
            />

            <input
                class="button button--wide auth__button"
                type="submit"
                value="Rekisteröidy"
            />

            <a
                href="{{url_for('signup_page')}}?next={{request.args.get('next', '')}}"
                class="auth__swap"
            >
                Onko sinulla jo käyttäjä?
                <span class="link">Kirjaudu sisään!</span>
            </a>
        </form>
    </section>
</div>
{% endblock %}
